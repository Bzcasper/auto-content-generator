# Setup and run script for ContentFlow
# setup.ps1

# Check if Python is installed
if (-not (Get-Command python -ErrorAction SilentlyContinue)) {
    Write-Error "Python is not installed. Please install Python 3.8 or later."
    exit 1
}

# Create and activate virtual environment
Write-Host "Creating Python virtual environment..."
python -m venv venv
./venv/Scripts/Activate.ps1

# Install required packages
Write-Host "Installing required packages..."
pip install -r requirements.txt

# Check if config.json exists
if (-not (Test-Path config.json)) {
    Write-Error "config.json not found. Please create it with your credentials."
    exit 1
}

# Check if urls.json exists
if (-not (Test-Path urls.json)) {
    Write-Error "urls.json not found. Please create it with your target URLs."
    exit 1
}

# Run the content processor
Write-Host "Starting content processing..."
python main.py

Write-Host "Content processing completed!"
